<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,user-scalable=no">
<title>htmlui</title>
<link href=./app.css rel=stylesheet>
</head>
<body>
<div id=app>
</div>
<script type=text/javascript src=./manifest.js></script>
<script type=text/javascript src=./vendor.js></script>
<script type=text/javascript src=./app.js></script>
<script type='text/javascript'>

var Module = {
	noInitialRun: true,
	noExitRuntime: true,

	onRuntimeInitialized: function() {
		console.log('onRuntimeInitialized');
		Module['imeInitialize']();

		window.MediatorCall = function (jsonArg) {
			var jsonArgUtf8 = unescape(encodeURIComponent(jsonArg));
        	Module['imeJsonCommand'](jsonArgUtf8);
			var canidateStateUtf8 = Module['imeCandidateState']();
			var candidateState = decodeURIComponent(escape(canidateStateUtf8));
			window.MediatorUpdateCandidate(candidateState);

			var compositionStateUtf8 = Module['imeCompositionState']();
			var compositionState = decodeURIComponent(escape(compositionStateUtf8));
			console.log(compositionState);
		};
	},

	// preRun: [],
	// postRun: [],
	print: function(text) {
		console.log(text);
	},
	printErr: function(text) {
		console.error(text);
	}
};
</script>
<script async type="text/javascript" src="imecore.js"></script>
</body>
</html>
